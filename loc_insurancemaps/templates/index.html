{% extends "base.html" %}
{% load markdownify %}
{% load i18n %}
{% load static from staticfiles %}
{% load base_tags %}
{% load django_svelte %}

{% block title %}{{ block.super }}{% endblock %}

{% block body_class %}home{% endblock %}


{% block middle %}
<div class="container-outer">
  {{ block.super }}
  {% block middlefull %}
  <div class="container background-fg">
  {% block hero %}
  {% if block.super %}
  {{ block.super }}
  {% else %}

<div class="banner-wrap">
<div class="banner" style="display:flex; flex-direction: column;">
  <div class="banner-item">
      <h1>Louisiana Sanborn Map Mosaics</h1>
      <p>A place to interactively explore historical fire insurance maps from the Library of Congress 
        <a href="https://loc.gov/collections/sanborn-maps">Sanborn Map Collection</a>.</p>
  </div>
  <div class="banner-item banner-button-list">
    <div>
      <a class="btn btn-default btn-lg" href="/loc/volumes" role="button">View Mosaics</a>
      <p><em>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut </em></p>
    </div>
    <div>
      <a class="btn btn-default btn-lg" href="/loc/volumes" role="button">Start Working on Maps</a>
      <p><em>Anyone can sign up to georeference and mosaic Sanborn atlases that have already been added to the project.</em></p>
    </div>
    <div>
      <a class="btn btn-default btn-lg" href="/loc//volumes" role="button">Add More Places</a>
      <p><em>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</em></p>
    </div>
    <div>
      <a class="btn btn-default btn-lg" href="/loc/volumes" role="button">Show Me a Random Map</a>
      <p><em>Why not?</em></p>
    </div>
  </div>
  <div class="banner-item">
    <p>This website started as a crowdsourcing pilot project in early 2022, and was focused on maps of Louisiana. About
      70 people signed up, and over half of them participated in some way. Over four months, 1,500 individual sheets
      from 270 different Sanborn atlases were georeferenced.
    </p>
  </div>
</div>
</div>
{% endif %}

  {% endblock hero %}

  {% block mainbody %}

  {% block bigsearch %}
  <section id="volume-search" class="background-bg">
    <div class="container text-center">
    <div class="row">
      <div class="col-12-xs">
        <h3>Find your city and choose a year... or browse <a href="/loc/volumes/" alt="Started volumes">started volumes</a>.</h3>
        {% display_svelte "VolumeSearch.svelte" search_params %} 
      </div>
    </div>
  </div>
  </section>
  {% endblock bigsearch %}
{% comment %}
      {% block showcase %}
      <section id="showcase" class="background-fg">
        <div class="row">
          <div class="col-12-xs">
            <h2 style="color:black;">Content Overview</h2>
            <p>Through the course of the project more and more content will be added. All maps come from the Library of Congress <a href="https://loc.gov/collections/sanborn-maps/about-this-collection" target="_blank">Sanborn Map Collection <i class="fa fa-external-link"></i></a></p>
          </div>
        </div>
        <div class="row" style="padding-top: 25px">
          <div class="container text-center">
            <div class="row home-facets">
            {% with facet_type='home' %}
              {% facets as facets %}
              <div class="col-md-5 col-md-offset-1 showcase-tile">
                <div class="showcase-tile-title">
                  <a href="{% url 'volumes_list' %}">
                    <span class="i i-volume i-volume-lg"></span>&nbsp;
                    <span>{{ volumes.started_ct }}/{{ volumes.total_ct}} {% blocktrans %}Volumes Started{% endblocktrans %}</span>
                  </a>
                </div>
                <p>{% trans 'Registered users can load old fire insurance maps to begin georeferencing their content.' %}</p>
                <p><a class="btn btn-default" href="{% url "volumes_list" %}" role="button">{% trans "Browse or Load Volumes" %} &raquo;</a></p>
              </div>
              <div class="col-md-5 showcase-tile">
                <div class="showcase-tile-title">
                  <a href="{% url 'document_browse' %}">
                    <span class="i i-document i-document-lg"></span>&nbsp;
                    <span>{{ facets.document|default:_("No") }} {% blocktrans count counter=facets.document %}Document{% plural %}Documents{% endblocktrans %}</span>
                  </a>
                </div>
                <p>{% trans "When a volume is loaded, a Document is created for each sheet, and users can prepare and georeference it." %}</p>
                <p class="text-center">
                  <a class="btn btn-default" href="{% url "document_browse" %}" role="button">{% trans "Browse Documents" %} &raquo;</a>
                </p>
              </div>
              <div class="col-md-5 col-md-offset-1 showcase-tile">
                <div class="showcase-tile-title">
                  <a href="{% url "layer_browse" %}">
                      <span class="i i-layer i-layer-lg"></span>&nbsp;
                      <span>{{ facets.layer|default:_("No") }} {% blocktrans count counter=facets.layer %}Layer{% plural %}Layers{% endblocktrans %}</span>
                  </a>
                </div>
                <p>{% trans "When a Document is georeferenced it becomes a geospatial Layer. Layers can be viewed, used by external software, or combined here in web maps." %}</p>
                <p class="text-center"><a class="btn btn-default" href="{% url "layer_browse" %}" role="button">{% trans "Browse Layers" %} &raquo;</a></p>
              </div>
              <div class="col-md-5 showcase-tile">
                <div class="showcase-tile-title">
                  <a href="{% url "maps_browse" %}">
                    <span class="i i-webmap i-webmap-lg"></span>&nbsp;
                    <span>{{ facets.map|default:_("No") }} {% blocktrans count counter=facets.map %}Web Map{% plural %}Web Maps{% endblocktrans %}</span>
                  </a>
                </div>
                <p>{% trans "Interactive web maps can be created on this site, allowing Layers to be combined into seamless historical map mosaics." %}</p>
                <p>
                  <a class="btn btn-default" href="{% url "maps_browse" %}" role="button">{% trans "Browse Web Maps" %} &raquo;</a>
                  {% if user.is_authenticated %}
                  <a class="btn btn-default" href="{% url "new_map" %}" role="button">{% trans "Create a Web Map" %} &raquo;</a>
                  {% endif %}
                </p>
              </div>
            {% endwith %}
            {% with facet_type='home' %}
            {% facets as facets %}
              <div class="col-md-4 col-md-offset-4 showcase-tile">
                <div class="showcase-tile-title">
                  <a href="{% url "profile_browse" %}">
                    <span class="i i-user i-user-lg"></span>&nbsp;
                    <span>{{ facets.user|default:_("No") }} {% blocktrans count counter=facets.user %}User{% plural %}Users{% endblocktrans %}</span>
                  </a>
                </div>
                <p>{% trans "If you are interested in participating, feel free to sign up and invite others too!" %}</p>
                <p>
                  {% if user.is_authenticated %}
                  <a class="btn btn-default" href="/invitations/geonode-send-invite/" role="button">{% trans "Send Invite" %} &raquo;</a>
                  {% else %}
                  <a class="btn btn-default" href="{% url "account_signup" %}" role="button">{% trans "Register" %} &raquo;</a>
                  {% endif %}
                  <a class="btn btn-default" href="{% url "profile_browse" %}" role="button">{% trans "Browse Users" %} &raquo;</a>
                </p>
              </div>
            {% endwith %}
            </div>
          </div>
        </div>
      </section>
      {% endblock showcase %}
      {% endcomment %}

      {% block cookielawinfo %}
      {% if custom_theme.cookie_law_info_bar_enabled %}
          <div id="cookie-law-info-bar">
              <h5 class="cli_messagebar_head">{{ custom_theme.cookie_law_info_bar_head }}</h5>
              <span>{{ custom_theme.cookie_law_info_bar_text|safe }}
                  <a data-cli_action="accept" id="cookie_action_close_header" target="_blank"  class="medium cli-plugin-button cli-plugin-main-button cookie_action_close_header cli_action_button" style="display:inline-block; ">{% trans "Accept" %}</a>
                  <a id="cookie_action_close_header_reject" class="medium cli-plugin-button cli-plugin-main-button cookie_action_close_header_reject cli_action_button"  data-cli_action="reject">{% trans "Reject" %}</a>
                  <a id="CONSTANT_OPEN_URL" href='{{ custom_theme.cookie_law_info_leave_url }}' class="medium cli-plugin-button cli-plugin-main-button" style="display:inline-block;">{% trans "Leave" %}</a>
              </span>
          </div>
          <div id="cookie-law-info-again" style="display:none;">
              <span id="cookie_hdr_showagain">{{ custom_theme.cookie_law_info_showagain_head }}</span>
          </div>
          <div class="cli-modal-backdrop cli-fade cli-settings-overlay"></div>
          <div class="cli-modal-backdrop cli-fade cli-popupbar-overlay"></div>
          <script type="text/javascript">
            /* <![CDATA[ */
            cli_cookiebar_settings='{"animate_speed_hide":"{{custom_theme.cookie_law_info_animate_speed_hide}}","animate_speed_show":"{{custom_theme.cookie_law_info_animate_speed_show}}","background":"{{custom_theme.cookie_law_info_background}}","border":"{{custom_theme.cookie_law_info_border}}","border_on":{{custom_theme.cookie_law_info_border_on}},"button_1_button_colour":"{{custom_theme.cookie_law_info_button_1_button_colour}}","button_1_button_hover":"{{custom_theme.cookie_law_info_button_1_button_hover}}","button_1_link_colour":"{{custom_theme.cookie_law_info_button_1_link_colour}}","button_1_as_button":{{custom_theme.cookie_law_info_button_1_as_button}},"button_1_new_win":{{custom_theme.cookie_law_info_button_1_new_win}},"button_2_button_colour":"{{custom_theme.cookie_law_info_button_2_button_colour}}","button_2_button_hover":"{{custom_theme.cookie_law_info_button_2_button_hover}}","button_2_link_colour":"{{custom_theme.cookie_law_info_button_2_link_colour}}","button_2_as_button":{{custom_theme.cookie_law_info_button_2_as_button}},"button_2_hidebar":{{custom_theme.cookie_law_info_button_2_hidebar}},"button_3_button_colour":"{{custom_theme.cookie_law_info_button_3_button_colour}}","button_3_button_hover":"{{custom_theme.cookie_law_info_button_3_button_hover}}","button_3_link_colour":"{{custom_theme.cookie_law_info_button_3_link_colour}}","button_3_as_button":{{custom_theme.cookie_law_info_button_3_as_button}},"button_3_new_win":{{custom_theme.cookie_law_info_button_3_new_win}},"button_4_button_colour":"{{custom_theme.cookie_law_info_button_4_button_colour}}","button_4_button_hover":"{{custom_theme.cookie_law_info_button_4_button_hover}}","button_4_link_colour":"{{custom_theme.cookie_law_info_button_4_link_colour}}","button_4_as_button":{{custom_theme.cookie_law_info_button_4_as_button}},"font_family":"{{custom_theme.cookie_law_info_font_family}}","header_fix":{{custom_theme.cookie_law_info_header_fix}},"notify_animate_hide":{{custom_theme.cookie_law_info_notify_animate_hide}},"notify_animate_show":{{custom_theme.cookie_law_info_notify_animate_show}},"notify_div_id":"{{custom_theme.cookie_law_info_notify_div_id}}","notify_position_horizontal":"{{custom_theme.cookie_law_info_notify_position_horizontal}}","notify_position_vertical":"{{custom_theme.cookie_law_info_notify_position_vertical}}","scroll_close":{{custom_theme.cookie_law_info_scroll_close}},"scroll_close_reload":{{custom_theme.cookie_law_info_scroll_close_reload}},"accept_close_reload":{{custom_theme.cookie_law_info_accept_close_reload}},"reject_close_reload":{{custom_theme.cookie_law_info_reject_close_reload}},"showagain_tab":{{custom_theme.cookie_law_info_showagain_tab}},"showagain_background":"{{custom_theme.cookie_law_info_showagain_background}}","showagain_border":"{{custom_theme.cookie_law_info_showagain_border}}","showagain_div_id":"{{custom_theme.cookie_law_info_showagain_div_id}}","showagain_x_position":"{{custom_theme.cookie_law_info_showagain_x_position}}","text":"{{custom_theme.cookie_law_info_text}}","show_once_yn":{{custom_theme.cookie_law_info_show_once_yn}},"show_once":"{{custom_theme.cookie_law_info_show_once}}","logging_on":{{custom_theme.cookie_law_info_logging_on}},"as_popup":{{custom_theme.cookie_law_info_as_popup}},"popup_overlay":{{custom_theme.cookie_law_info_popup_overlay}},"bar_heading_text":"{{custom_theme.cookie_law_info_bar_heading_text}}","cookie_bar_as":"{{custom_theme.cookie_law_info_cookie_bar_as}}","popup_showagain_position":"{{custom_theme.cookie_law_info_popup_showagain_position}}","widget_position":"{{custom_theme.cookie_law_info_widget_position}}"}';
            /* ]]> */
          </script>
      {% endif %}
      {% endblock cookielawinfo %}

  {% endblock mainbody %}
</div>
{% endblock middlefull %}
</div>
{% endblock middle %}


{% block extra_script %}
    <script type="text/javascript">
      $('#main_search').on('submit', (e) => {
          $('#main_search_abstract_input')[0].value =$('#main_search_input')[0].value;
          $('#main_search_purpose_input')[0].value = $('#main_search_input')[0].value;
      });
    </script>
{{ block.super }}
{% if DEBUG_STATIC %}
<script src="{% static "lib/js/angular.js" %}"></script>
{% endif %}
<script type="text/javascript">
    FEATURED_URL = "{% url 'api_dispatch_list' api_name='api' resource_name='featured' %}"
    'use strict';
    (function(){
      var module = angular.module('featured', []);
      module.run(function($http, $rootScope){
		$http.get(FEATURED_URL).then(successCallback, errorCallback);

		function successCallback(data) {
			//success code
          $rootScope.featured = data.data.objects;
		};

		function errorCallback(error) {
			//error code
		};
      });
    })();
</script>
<script>
	$('[data-toggle="tooltip"]').tooltip({container: 'body'});
</script>
<script type='text/javascript'>
/* <![CDATA[ */
var Cli_Data = {"nn_cookie_ids":[],"cookielist":[]};
/* ]]> */
</script>
<script type="text/javascript" src="{% static "geonode/js/cookie-law-info/cookie-law-info-public.js" %}"></script>
{% endblock extra_script %}
